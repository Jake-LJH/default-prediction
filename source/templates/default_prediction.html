<!DOCTYPE html>
<html lang="en">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap4.min.css" />
 
 <!-- <script>
    $(document).ready(function() {
      $('#predicted_table').DataTable({
        "scorllX": true,
        "scrollY": 200,
      });
      $('.dataTables_length').addClass('bs-select');
    });
    
  </script> -->
  <script>
    $(document).ready(function() {
      $('#predicted_table').DataTable({
        "scorllX": true,
        "scrollY": 400
        
       
        
      });
      $('.dataTables_length').addClass('bs-select');
    });
    
  </script>
  <!--<script type='text/javascript'>
    window.onload = function() {
      const thead = document.querySelectorAll('.table > thead');
      thead.forEach(e => e.classList.add('thead-light'));
    }
  </script>-->
  <style>
    /*  .login-form {
       width : 350px;
       margin : 50 px auto; 
     } */
     .login-form form{
         margin-bottom : 15px;
         background: #f7f7f7;
         box-shadow: 0px 2px 2px rgba(0,0,0,0.3);
         padding:30px;
     }
     .login-form h2{
         margin : 0 0 15px;
     }
     .form-control, .btn{
         min-height : 25px;
         border-radius : 3px;
         
     }
     .btn{
         font-size: 15px;
         font-weight: bold;
         
     }
     .btn-primary, .btn-primary:hover, .btn-primary:active, .btn-primary:visited {
         /* background-color:#4B0082 !important;*/
          border:0px;
      }
     .navbar {
     margin-bottom: 5px;
     border-radius: 0;
   }
   
   /* Remove the jumbotron's default bottom margin */ 
    .jumbotron {
     margin-bottom: 0;
     background-image : url('/static/images/creditcard.jpg');
     background-size: cover;
     
   }
   /* rgb(213,205,214) */
    .jumbotron, .h1{
      /* color: #4B0082*/
   }
   .jumbo_text {
    color: white;
    }
   /* Add a gray background color and some padding to the footer */
   footer {
     background-color: #f2f2f2;
     padding: 25px;
   }
   .navbar-custom {
           background-color:#F5F5F5
       }
       /* Modify brand and text color */
        
      
   .navbar-light .navbar-nav .nav-link{
       font-size: 15px;
       /*color: #4B0082;*/
       
   }
   input.transparent-input{
      background-color:rgba(0,0,0,0.03) !important;

   }

   .jumbotron .jumbotron-custom{
       /*background-color:rgba(0,0,0,0,3) !important ;*/
        background-image : url('/static/images/creditcard.jpg');
        background-size: cover;
   }
  
  table.dataTable thead .sorting:after,
  table.dataTable thead .sorting:before,
  table.dataTable thead .sorting_asc:after,
  table.dataTable thead .sorting_asc:before,
  table.dataTable thead .sorting_asc_disabled:after,
  table.dataTable thead .sorting_asc_disabled:before,
  table.dataTable thead .sorting_desc:after,
  table.dataTable thead .sorting_desc:before,
  table.dataTable thead .sorting_desc_disabled:after,
  table.dataTable thead .sorting_desc_disabled:before {
  bottom: .5em;
}
   
  .table-fixed tbody {
    height: 300px;
    
    width: 100%;
}
  .table-fixed thead,
  .table-fixed tbody{
    display: block;
  }
  .table-fixed thead th,
  .table-fixed tbody td,
  .table-fixed tbody tr{
    width: 20%;
  }


  body {
      background: #bdc3c7;
      background: -webkit-linear-gradient(to right, #bdc3c7, #d8e1eb);
      background: linear-gradient(to right, #bdc3c7, #d8e1eb);
      min-height: 100vh;

  }
/*background: #74ebd5;
      background: -webkit-linear-gradient(to right, #74ebd5, #ACB6E5);
      background: linear-gradient(to right, #74ebd5, #ACB6E5);
      min-height: 100vh;*/
</style> 
<!--
&::after {
      content: '';
      clear: both;
      display: block;
  }
overflow-y: auto;
    overflow-x: auto;-->
<head>

  
  
 
  </head>
  <body>
 
    <div>
      <nav class="navbar navbar-expand-lg navbar-light navbar-custom">
          <div class="container-fluid">
              <a class="navbar-brand" href="#">Credit Card Default Detection</a>
          </div>
      </nav>
    </div>
        
      <div class="login-form">
          <form action = "{{ url_for('default_prediction') }}" method = "post" enctype="multipart/form-data">
            <div class="container d-flex h-100">
              <div class="row align-self-center w-100">
                  <div class="col-10 mx-auto">
                      <div class="jumbotron">
                          <div class="row align-self-left w-50">
                              <div class="alert" role="alert" id="probability">{{prob}}</div>
                              <table class="table">
                                  <tr>
                                      <td>
                                          <div  class="form-group">
                                            <input type = "file" class = "form-control transparent-input" name="file">
                                          </div>
                                      </td>
                                      <td>
                                          <div class ="form-group">
                                          <button type ="submit" class="btn btn-primary btn-block" name="Predict">Predict</button>

                                      </div>
                                      </td>
                                  </tr>
                                  {% if show_table %}
                                    <tr>
                                      <td>
                                        {{f_name}}
                                      </td>
                                      <td><a href= "{{url_for('download_file', filename=f_name)}}" class="btn btn-primary btn-block" name ="Download">Download</a></td>
                                    </tr>
                                  {% endif %}
                                </table>
                              </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

          </form>
      </div>
      {% if show_table %}
      <div class="container py-10">
        <div class="row">
            <div class="col-lg-10 mx-auto bg-white rounded shadow">

                <!-- Fixed header table-->
               
                <div class="table-responsive">
                    <table id="predicted_table" class="table table-striped table-bordered table-sm" cellspacing="0", width="100%">
                      <thead>
                        <tr>
                            <th  class="th-sm">Id</th>
                            <th  class="th-sm">Age</th>
                            <th  class="th-sm">Outstanding</th>
                            <th  class="th-sm">Limit Balance</th>
                            <th  class="th-sm">Default</th>
                            <th  class="th-sm">probability</th>
                        </tr>
                    </thead>
                        
                        <tbody>
                          
                            {% for index, row in table.iterrows() %}
                              <tr>
                                  <td >{{row['ID']}}</td>
                                  <td>{{row['AGE']}}</td>
                                  <td>{{row['BILL_AMT1']}}</td>
                                  <td>{{row['LIMIT_BAL']}}</td>
                                  <td>{{row['default payment prediction']}}</td>
                                  <td>{{row['probability']}}</td>
                              </tr>
                              {% endfor %}
                            
                        </tbody>
                       
                    </table>
                </div>
               
      </div>
      <div>
        
        <img src="{{ image }}"/>
      
      </div>
      </div>
      {% endif %}
  </body>
  </html>
 